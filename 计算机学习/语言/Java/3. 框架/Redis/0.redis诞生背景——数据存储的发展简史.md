# redis诞生背景
#redis #数据存储timeline

首先我们有些背景知识：
> 硬件约束：
> - 硬盘：
>   1. 带宽/吞吐: 百兆~数G(固态硬盘) 2. 寻址时间: ms
>-  内存:
>   寻址时间: ns

## 数据存储的演进：
1. 存单个文件：
   特点： -
   缺陷：硬盘全量扫描IO慢 (见上面的约束)
   改进方案: 分治+索引 使用内存(成本高)
2. 数据库(硬盘)：
   特点：数据分块(datapage 默认4k 可配)，建立索引，二级索引 
       (内存中存储B+树 来避免全量扫描索引)。
   缺陷：大表时增删改查变慢
      (写一定变慢因为要改索引；读走索引高并发时变慢 因为硬盘吞吐限制)
	  硬盘是计算机性能一大瓶颈！
   改进方案: 使用内存存储(成本高)
   
>  支持sql 的 内存关系型数据库？
>  SAP公司的 HANA 
>  贵！=> ERP+HANA+ 内存2T服务器 套餐 售价 2亿
>  【因为内存中的数据可以存在数据复用（指针）所以2T内存可以储存大于2T的硬盘数据】

∵ 硬盘数据库 硬盘IO慢 内存数据库成本高 ∴ 折中。而 全量数据中只有一部分是需要经常访问的(热点数据) -> 放入内存 其他继续存硬盘数据库。
3. redis / memcache
   特点：nosql  key-value 储存，结构简单,查询速度快 内存储存
   - memcache:  value只支持 String 类型
   ** 数据向计算移动** 全查询再找有用的，io压力大
	   
	- redis:  value只支持 String List Hash Set Zset. 都有方便的本地方法
	** 计算向数据移动** io压力小
	
   缺陷：内存易失 需要 [[2.redis持久化]]
   改进方案: -