# Java虚拟机运行时栈帧结构
#JVM #JVM_内存结构

来源：[[网]Java虚拟机运行时栈帧结构](https://www.cnblogs.com/noKing/p/8167700.html)
### 栈帧是什么？

栈帧（Frame）是用来存储数据和部分过程结果的数据结构，同时也被用来处理动态链接 （Dynamic Linking）、方法返回值和异常分派（Dispatch Exception）。

```
栈帧是一种数据结构，用于虚拟机进行方法的调用和执行。
栈帧是虚拟机栈的栈元素，也就是入栈和出栈的一个单元。
```

### 栈帧在什么地方？

内存 -> 运行时数据区 -> 某个线程对应的虚拟机栈 -> 这里就是栈帧了

### 栈帧的含义？

每个方法的**执行**和**结束**对应着栈帧的**入栈**和**出栈**。

```
入栈表示被调用，出栈表示执行完毕或者返回异常。
一个虚拟机栈对应一个线程，当前CPU调度的那个线程叫做活动线程；一个栈帧对应一个方法，活动线程的虚拟机栈里最顶部的栈帧代表了当前正在执行的方法，而这个栈帧也被叫做‘当前栈帧’。
```

### 栈帧既然是个数据结构，都有哪些数据？

局部变量表、操作数栈、动态链接、方法返回地址、附加信息。

### 栈帧的大小是什么时候确定的？

编译程序代码的时候，就已经确定了局部变量表和操作数栈的大小，而且在方法表的Code属性中写好了。不会受到运行期数据的影响。